<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | Knorm</title>
    <meta name="description" content="A JavaScript ORM written using ES6 classes">
    <link rel="icon" href="/knorm/favicon.ico">
    
    <link rel="preload" href="/knorm/assets/css/styles.e966340c.css" as="style"><link rel="preload" href="/knorm/assets/js/app.e966340c.js" as="script"><link rel="preload" href="/knorm/assets/js/7.35b32c73.js" as="script"><link rel="prefetch" href="/knorm/assets/css/1.styles.5a8ea794.css"><link rel="prefetch" href="/knorm/assets/js/1.5a8ea794.js"><link rel="prefetch" href="/knorm/assets/css/2.styles.7d6f9fa1.css"><link rel="prefetch" href="/knorm/assets/js/2.7d6f9fa1.js"><link rel="prefetch" href="/knorm/assets/js/3.2f7da517.js"><link rel="prefetch" href="/knorm/assets/js/4.b500dd80.js"><link rel="prefetch" href="/knorm/assets/js/5.330b7112.js"><link rel="prefetch" href="/knorm/assets/js/6.678f59bc.js"><link rel="prefetch" href="/knorm/assets/js/8.78effee6.js"><link rel="prefetch" href="/knorm/assets/js/9.d72899d5.js"><link rel="prefetch" href="/knorm/assets/js/10.102b8225.js"><link rel="prefetch" href="/knorm/assets/js/11.dc731fab.js"><link rel="prefetch" href="/knorm/assets/js/12.322065b9.js"><link rel="prefetch" href="/knorm/assets/js/13.b9973365.js"><link rel="prefetch" href="/knorm/assets/js/14.b90bedec.js"><link rel="prefetch" href="/knorm/assets/js/15.11948103.js"><link rel="prefetch" href="/knorm/assets/js/16.0fc0e04e.js"><link rel="prefetch" href="/knorm/assets/js/17.c23eae7d.js">
    <link rel="stylesheet" href="/knorm/assets/css/1.styles.5a8ea794.css"><link rel="stylesheet" href="/knorm/assets/css/2.styles.7d6f9fa1.css"><link rel="stylesheet" href="/knorm/assets/css/styles.e966340c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knorm/" class="home-link router-link-active"><!----> <span class="site-name">Knorm</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knorm/" class="nav-link">Home</a></div><div class="nav-item"><a href="/knorm/getting-started.html" class="nav-link router-link-exact-active router-link-active">Getting Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/guides/models.html" class="nav-link">Models</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/fields.html" class="nav-link">Fields</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/virtuals.html" class="nav-link">Virtuals</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/queries.html" class="nav-link">Queries</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/transactions.html" class="nav-link">Transactions</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/validation.html" class="nav-link">Validation</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/plugins.html" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/debugging.html" class="nav-link">Debugging</a></li></ul></div></div><div class="nav-item"><a href="/knorm/api.html" class="nav-link">API Docs</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/knorm/postgres" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/postgres
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/to-json" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/to-json
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/relations" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/relations
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/soft-delete" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/soft-delete
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/paginate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/paginate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/timestamps" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/timestamps
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/changelog.html" class="nav-link">Changelog</a></li><li class="dropdown-item"><!----> <a href="/knorm/license.html" class="nav-link">License</a></li><li class="dropdown-item"><!----> <a href="/knorm/credits.html" class="nav-link">Credits</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/knorm/knorm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knorm/" class="nav-link">Home</a></div><div class="nav-item"><a href="/knorm/getting-started.html" class="nav-link router-link-exact-active router-link-active">Getting Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/guides/models.html" class="nav-link">Models</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/fields.html" class="nav-link">Fields</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/virtuals.html" class="nav-link">Virtuals</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/queries.html" class="nav-link">Queries</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/transactions.html" class="nav-link">Transactions</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/validation.html" class="nav-link">Validation</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/plugins.html" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/debugging.html" class="nav-link">Debugging</a></li></ul></div></div><div class="nav-item"><a href="/knorm/api.html" class="nav-link">API Docs</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/knorm/postgres" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/postgres
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/to-json" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/to-json
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/relations" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/relations
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/soft-delete" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/soft-delete
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/paginate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/paginate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/timestamps" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/timestamps
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/changelog.html" class="nav-link">Changelog</a></li><li class="dropdown-item"><!----> <a href="/knorm/license.html" class="nav-link">License</a></li><li class="dropdown-item"><!----> <a href="/knorm/credits.html" class="nav-link">Credits</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/knorm/knorm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/knorm/" class="sidebar-link">Home</a></li><li><a href="/knorm/getting-started.html" class="active sidebar-link">Getting Started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knorm/getting-started.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/knorm/getting-started.html#creating-models" class="sidebar-link">Creating models</a></li><li class="sidebar-sub-header"><a href="/knorm/getting-started.html#connecting-to-the-database" class="sidebar-link">Connecting to the database</a></li><li class="sidebar-sub-header"><a href="/knorm/getting-started.html#adding-common-fields" class="sidebar-link">Adding common fields</a></li><li class="sidebar-sub-header"><a href="/knorm/getting-started.html#adding-virtual-fields" class="sidebar-link">Adding virtual fields</a></li></ul></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Guides</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/knorm/guides/models.html" class="sidebar-link">Models</a></li><li><a href="/knorm/guides/fields.html" class="sidebar-link">Fields</a></li><li><a href="/knorm/guides/virtuals.html" class="sidebar-link">Virtuals</a></li><li><a href="/knorm/guides/queries.html" class="sidebar-link">Queries</a></li><li><a href="/knorm/guides/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/knorm/guides/validation.html" class="sidebar-link">Validation</a></li><li><a href="/knorm/guides/plugins.html" class="sidebar-link">Plugins</a></li><li><a href="/knorm/guides/debugging.html" class="sidebar-link">Debugging</a></li></ul></div></li><li><a href="/knorm/api.html" class="sidebar-link">API Docs</a></li><li><a href="/knorm/changelog.html" class="sidebar-link">Changelog</a></li><li><a href="/knorm/license.html" class="sidebar-link">License</a></li><li><a href="/knorm/credits.html" class="sidebar-link">Credits</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="getting-started"><a href="#getting-started" aria-hidden="true" class="header-anchor">#</a> Getting Started</h1> <p>Knorm is a collection of classes that allow creating JavaScript
<a href="https://en.wikipedia.org/wiki/Object-relational_mapping" target="_blank" rel="noopener noreferrer">ORM's<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to make it
easier to work with relational databases.</p> <p>Knorm can be used on any existing database without requiring any changes to the
database layer. It does not (yet) create or run any database migrations
(creating or altering tables, columns, indexes etc), nor does it generate models
from existing database schema (yet). For creating and running migrations,
consider a library such as <a href="http://knexjs.org" target="_blank" rel="noopener noreferrer">Knex.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>It can also be used on the browser to create models that do not interact with
the  database, perhaps for data validation. Please note that it's not secure to
generate queries on the browser and send them for processing to a backend
server.</p> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save @knorm/knorm
</code></pre></div><h2 id="creating-models"><a href="#creating-models" aria-hidden="true" class="header-anchor">#</a> Creating models</h2> <p>Start by creating a new instance of an ORM. You may use the factory method or
directly create a new <a href="/knorm/api.html#knorm">Knorm</a> instance:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> knorm <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@knorm/knorm'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> orm <span class="token operator">=</span> <span class="token function">knorm</span><span class="token punctuation">(</span><span class="token comment">/* options */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or:</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Knorm <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@knorm/knorm'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> orm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Knorm</span><span class="token punctuation">(</span><span class="token comment">/* options */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>see the <a href="/knorm/api.html#knorm">Knorm</a> docs for more info on Knorm options</p></blockquote> <p>The ORM instance created contains <a href="/knorm/api.html#model">Model</a>,
<a href="/knorm/api.html#field">Field</a>, <a href="/knorm/api.html#query">Query</a> and
<a href="/knorm/api.html#transaction">Transaction</a> classes and the ORM's
configuration. These are kept separate from other ORM instances, making it
possible to have multiple ORMs in a single application, if needed.</p> <p>With the new ORM, you can directly extend the <a href="/knorm/api.html#model">Model</a> class
to create models:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> knorm <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@knorm/knorm'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Model <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">knorm</span><span class="token punctuation">(</span><span class="token comment">/* options */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

User<span class="token punctuation">.</span>table <span class="token operator">=</span> <span class="token string">'user'</span><span class="token punctuation">;</span>
User<span class="token punctuation">.</span>fields <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span> names<span class="token punctuation">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>see the <a href="/knorm/guides/models.html#models">models guide</a> for more on models</p></blockquote> <h2 id="connecting-to-the-database"><a href="#connecting-to-the-database" aria-hidden="true" class="header-anchor">#</a> Connecting to the database</h2> <p>At this point the ORM cannot connect to the database yet. To enable that, we
need to install and load an approprite
<a href="/knorm/guides/plugins.html#available-plugins">plugin</a>.  This is needed in most cases
but if you only want to use Knorm's classes with no database access (e.g. only
for data validation) you can skip this step.</p> <p>For example, for postgres, install
<a href="https://github.com/knorm/postgres" target="_blank" rel="noopener noreferrer">@knorm/postgres<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save @knorm/postgres
</code></pre></div><p>Then load it into the ORM:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> knormPostgres <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@knorm/postgres'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> orm <span class="token operator">=</span> <span class="token function">knorm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">knormPostgres</span><span class="token punctuation">(</span><span class="token comment">/* @knorm/postgres options */</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>see the <a href="https://github.com/knorm/postgres" target="_blank" rel="noopener noreferrer">@knorm/postgres<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> docs
for info on @knorm/postgres options e.g. database connection options</p></blockquote> <p>Now we can use the <code>User</code> model to save and retrieve data from the database:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> names<span class="token punctuation">:</span> <span class="token string">'Foo Bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; User({ id: 1, names: 'Foo Bar' })</span>

<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; [ User({ id: 1, names: 'Foo Bar' }) ]</span>
</code></pre></div><h2 id="adding-common-fields"><a href="#adding-common-fields" aria-hidden="true" class="header-anchor">#</a> Adding common fields</h2> <p>In most cases, you'll have fields that are common to all your models. To avoid
having to add the same fields to each model you create, you can create a base
<code>Model</code> class, add the common fields there and then have your models extend that
class.</p> <p>For example, to if all your models have an &quot;id&quot; field that is the primary field:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> orm <span class="token operator">=</span> <span class="token function">knorm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">knormPostgres</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Model</span> <span class="token keyword">extends</span> <span class="token class-name">orm<span class="token punctuation">.</span>Model</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// add the common &quot;id&quot; field:</span>
Model<span class="token punctuation">.</span>fields <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'integer'</span><span class="token punctuation">,</span> primary<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> updated<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> methods<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// add only the fields specific to User:</span>
User<span class="token punctuation">.</span>fields <span class="token operator">=</span> <span class="token punctuation">{</span> names<span class="token punctuation">:</span> <span class="token string">'string'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>see the <a href="/knorm/guides/fields.html#fields">fields guide</a> for more info on fields</p></blockquote> <p>A child model inherits all fields (and virtuals) added to its parent, so <code>User</code>
will also have the <code>id</code> field. However, fields added to the child model will not
be added to the parent.</p> <blockquote><p>see the <a href="/knorm/guides/fields.html#field-inheritance">fields guide</a> for more info on
field inheritance</p></blockquote> <h2 id="adding-virtual-fields"><a href="#adding-virtual-fields" aria-hidden="true" class="header-anchor">#</a> Adding virtual fields</h2> <p>To add virtual (computed) fields on a model:</p> <div class="language-js extra-class"><pre class="language-js"><code>User<span class="token punctuation">.</span>virtuals <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">initials</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>names
      <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>names
          <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>name <span class="token operator">=&gt;</span> name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> undefined<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> user  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">{</span> names<span class="token punctuation">:</span> <span class="token string">'Foo Bar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>initials<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'FB'</span>
</code></pre></div><blockquote><p>see <a href="/knorm/guides/virtuals.html#virtuals">the virtuals guide</a> for more info on
virtuals</p></blockquote></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last updated: </span> <span class="time">10/6/2018, 8:21:59 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/knorm/" class="prev router-link-active">
          Home
        </a></span> <span class="next"><a href="/knorm/guides/models.html">
          Models
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/knorm/assets/js/7.35b32c73.js" defer></script><script src="/knorm/assets/js/app.e966340c.js" defer></script>
  </body>
</html>
