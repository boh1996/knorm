<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Classes | Knorm</title>
    <meta name="description" content="A JavaScript ORM written using ES6 classes">
    <link rel="icon" href="/knorm/favicon.ico">
    
    <link rel="preload" href="/knorm/assets/css/styles.e966340c.css" as="style"><link rel="preload" href="/knorm/assets/js/app.e966340c.js" as="script"><link rel="preload" href="/knorm/assets/js/4.b500dd80.js" as="script"><link rel="prefetch" href="/knorm/assets/js/7.35b32c73.js"><link rel="prefetch" href="/knorm/assets/css/1.styles.5a8ea794.css"><link rel="prefetch" href="/knorm/assets/js/1.5a8ea794.js"><link rel="prefetch" href="/knorm/assets/css/2.styles.7d6f9fa1.css"><link rel="prefetch" href="/knorm/assets/js/2.7d6f9fa1.js"><link rel="prefetch" href="/knorm/assets/js/3.2f7da517.js"><link rel="prefetch" href="/knorm/assets/js/5.330b7112.js"><link rel="prefetch" href="/knorm/assets/js/6.678f59bc.js"><link rel="prefetch" href="/knorm/assets/js/8.78effee6.js"><link rel="prefetch" href="/knorm/assets/js/9.d72899d5.js"><link rel="prefetch" href="/knorm/assets/js/10.102b8225.js"><link rel="prefetch" href="/knorm/assets/js/11.dc731fab.js"><link rel="prefetch" href="/knorm/assets/js/12.322065b9.js"><link rel="prefetch" href="/knorm/assets/js/13.b9973365.js"><link rel="prefetch" href="/knorm/assets/js/14.b90bedec.js"><link rel="prefetch" href="/knorm/assets/js/15.11948103.js"><link rel="prefetch" href="/knorm/assets/js/16.0fc0e04e.js"><link rel="prefetch" href="/knorm/assets/js/17.c23eae7d.js">
    <link rel="stylesheet" href="/knorm/assets/css/1.styles.5a8ea794.css"><link rel="stylesheet" href="/knorm/assets/css/2.styles.7d6f9fa1.css"><link rel="stylesheet" href="/knorm/assets/css/styles.e966340c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/knorm/" class="home-link router-link-active"><!----> <span class="site-name">Knorm</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knorm/" class="nav-link">Home</a></div><div class="nav-item"><a href="/knorm/getting-started.html" class="nav-link">Getting Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/guides/models.html" class="nav-link">Models</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/fields.html" class="nav-link">Fields</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/virtuals.html" class="nav-link">Virtuals</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/queries.html" class="nav-link">Queries</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/transactions.html" class="nav-link">Transactions</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/validation.html" class="nav-link">Validation</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/plugins.html" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/debugging.html" class="nav-link">Debugging</a></li></ul></div></div><div class="nav-item"><a href="/knorm/api.html" class="nav-link router-link-exact-active router-link-active">API Docs</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/knorm/postgres" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/postgres
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/to-json" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/to-json
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/relations" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/relations
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/soft-delete" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/soft-delete
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/paginate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/paginate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/timestamps" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/timestamps
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/changelog.html" class="nav-link">Changelog</a></li><li class="dropdown-item"><!----> <a href="/knorm/license.html" class="nav-link">License</a></li><li class="dropdown-item"><!----> <a href="/knorm/credits.html" class="nav-link">Credits</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/knorm/knorm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knorm/" class="nav-link">Home</a></div><div class="nav-item"><a href="/knorm/getting-started.html" class="nav-link">Getting Started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/guides/models.html" class="nav-link">Models</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/fields.html" class="nav-link">Fields</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/virtuals.html" class="nav-link">Virtuals</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/queries.html" class="nav-link">Queries</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/transactions.html" class="nav-link">Transactions</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/validation.html" class="nav-link">Validation</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/plugins.html" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/knorm/guides/debugging.html" class="nav-link">Debugging</a></li></ul></div></div><div class="nav-item"><a href="/knorm/api.html" class="nav-link router-link-exact-active router-link-active">API Docs</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/knorm/postgres" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/postgres
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/to-json" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/to-json
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/relations" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/relations
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/soft-delete" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/soft-delete
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/paginate" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/paginate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/knorm/timestamps" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @knorm/timestamps
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">About</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/knorm/changelog.html" class="nav-link">Changelog</a></li><li class="dropdown-item"><!----> <a href="/knorm/license.html" class="nav-link">License</a></li><li class="dropdown-item"><!----> <a href="/knorm/credits.html" class="nav-link">Credits</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/knorm/knorm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/knorm/" class="sidebar-link">Home</a></li><li><a href="/knorm/getting-started.html" class="sidebar-link">Getting Started</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Guides</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/knorm/guides/models.html" class="sidebar-link">Models</a></li><li><a href="/knorm/guides/fields.html" class="sidebar-link">Fields</a></li><li><a href="/knorm/guides/virtuals.html" class="sidebar-link">Virtuals</a></li><li><a href="/knorm/guides/queries.html" class="sidebar-link">Queries</a></li><li><a href="/knorm/guides/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/knorm/guides/validation.html" class="sidebar-link">Validation</a></li><li><a href="/knorm/guides/plugins.html" class="sidebar-link">Plugins</a></li><li><a href="/knorm/guides/debugging.html" class="sidebar-link">Debugging</a></li></ul></div></li><li><a href="/knorm/api.html" class="active sidebar-link">API Docs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knorm/api.html#classes" class="sidebar-link">Classes</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#field" class="sidebar-link">Field</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knorm/api.html#new-field-config" class="sidebar-link">new Field([config])</a></li></ul></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm" class="sidebar-link">Knorm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knorm/api.html#new-knorm-config" class="sidebar-link">new Knorm([config])</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-field-field" class="sidebar-link">knorm.Field : Field</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-model-model" class="sidebar-link">knorm.Model : Model</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-query-query" class="sidebar-link">knorm.Query : Query</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-transaction-transaction" class="sidebar-link">knorm.Transaction : Transaction</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-use-plugin-⇒-knorm" class="sidebar-link">knorm.use(plugin) ⇒ Knorm</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-addmodel-model" class="sidebar-link">knorm.addModel(model)</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-clone-⇒-knorm" class="sidebar-link">knorm.clone() ⇒ Knorm</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#knorm-knormerror-knormerror" class="sidebar-link">Knorm.KnormError : KnormError</a></li></ul></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model" class="sidebar-link">Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knorm/api.html#new-model-data" class="sidebar-link">new Model([data])</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-knorm-knorm" class="sidebar-link">model.knorm : Knorm</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-models-object" class="sidebar-link">model.models : object</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-setdata-data-⇒-model" class="sidebar-link">model.setData(data) ⇒ Model</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-insert-options-⇒-promise-model" class="sidebar-link">model.insert(options]) ⇒ [Promise.&lt;Model&gt;</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-update-options-⇒-promise-model" class="sidebar-link">model.update(options]) ⇒ [Promise.&lt;Model&gt;</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-save-options-⇒-promise-model" class="sidebar-link">model.save(options]) ⇒ [Promise.&lt;Model&gt;</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-fetch-options-⇒-promise-model" class="sidebar-link">model.fetch(options]) ⇒ [Promise.&lt;Model&gt;</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-delete-options-⇒-promise-model" class="sidebar-link">model.delete(options]) ⇒ [Promise.&lt;Model&gt;</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-fields-object" class="sidebar-link">Model.fields : object</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-knorm-knorm-2" class="sidebar-link">Model.knorm : Knorm</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-models-object-2" class="sidebar-link">Model.models : object</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#model-insert-data-options-⇒-promise" class="sidebar-link">Model.insert(data, options) ⇒ Promise</a></li></ul></li><li class="sidebar-sub-header"><a href="/knorm/api.html#query" class="sidebar-link">Query</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knorm/api.html#new-query-model" class="sidebar-link">new Query(model)</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#query-fields-fields-⇒-query" class="sidebar-link">query.fields(...fields) ⇒ Query</a></li><li class="sidebar-sub-header"><a href="/knorm/api.html#query-returning-fields-⇒-query" class="sidebar-link">query.returning(...fields) ⇒ Query</a></li></ul></li><li class="sidebar-sub-header"><a href="/knorm/api.html#transaction" class="sidebar-link">Transaction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knorm/api.html#new-transaction-callback" class="sidebar-link">new Transaction([callback])</a></li></ul></li></ul></li><li><a href="/knorm/changelog.html" class="sidebar-link">Changelog</a></li><li><a href="/knorm/license.html" class="sidebar-link">License</a></li><li><a href="/knorm/credits.html" class="sidebar-link">Credits</a></li></ul> </div> <div class="page"> <div class="content"><h2 id="classes"><a href="#classes" aria-hidden="true" class="header-anchor">#</a> Classes</h2> <dl><dt><a href="#Field">Field</a></dt> <dd><p>Creates and holds configuration for fields, e.g. how to validate or cast
fields.</p></dd> <dt><a href="#Knorm">Knorm</a></dt> <dd><p>Creates and configures ORMs.</p></dd> <dt><a href="#Model">Model</a></dt> <dd><p>Creates model instances and allows setting, getting, validating and casting
data before and/or after database operations.</p></dd> <dt><a href="#Query">Query</a></dt> <dd><p>Creates and runs queries and parses any data returned.</p></dd> <dt><a href="#Transaction">Transaction</a></dt> <dd><p>Creates and executes transactions, allowing multiple queries to be run within
a transaction.</p></dd></dl> <p><a name="Field"></a></p> <h2 id="field"><a href="#field" aria-hidden="true" class="header-anchor">#</a> Field</h2> <p>Creates and holds configuration for fields, e.g. how to validate or cast
fields.</p> <p><a name="new_Field_new"></a></p> <h3 id="new-field-config"><a href="#new-field-config" aria-hidden="true" class="header-anchor">#</a> new Field([config])</h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[config]</td> <td><code>object</code></td> <td>The field's configuration.</td></tr></tbody></table> <p>Creates a <a href="#Field">Field</a> instance.</p> <p><a name="Knorm"></a></p> <h2 id="knorm"><a href="#knorm" aria-hidden="true" class="header-anchor">#</a> Knorm</h2> <p>Creates and configures ORMs.</p> <ul><li><a href="#Knorm">Knorm</a> <ul><li><a href="#new_Knorm_new">new Knorm([config])</a></li> <li><em>instance</em> <ul><li><a href="#Knorm+Field">.Field</a> : <a href="#Field">Field</a></li> <li><a href="#Knorm+Model">.Model</a> : <a href="#Model">Model</a></li> <li><a href="#Knorm+Query">.Query</a> : <a href="#Query">Query</a></li> <li><a href="#Knorm+Transaction">.Transaction</a> : <a href="#Transaction">Transaction</a></li> <li><a href="#Knorm+use">.use(plugin)</a> ⇒ <a href="#Knorm">Knorm</a></li> <li><a href="#Knorm+addModel">.addModel(model)</a></li> <li><a href="#Knorm+clone">.clone()</a> ⇒ <a href="#Knorm">Knorm</a></li></ul></li> <li><em>static</em> <ul><li><a href="#Knorm.KnormError">.KnormError</a> : <code>KnormError</code></li></ul></li></ul></li></ul> <p><a name="new_Knorm_new"></a></p> <h3 id="new-knorm-config"><a href="#new-knorm-config" aria-hidden="true" class="header-anchor">#</a> new Knorm([config])</h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[config]</td> <td><code>object</code></td> <td>The ORM's configuration.</td></tr> <tr><td>config.fieldToColumn</td> <td><code>function</code></td> <td>A function to convert all field-names  to column names, for example <a href="https://lodash.com/docs/4.17.10#snakeCase" target="_blank" rel="noopener noreferrer">snakeCase<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</td></tr> <tr><td>config.debug</td> <td><code>boolean</code></td> <td>Whether or not to enable debug mode. See <a href="/guides/debugging">the debugging guide</a> for more info.</td></tr></tbody></table> <p>Creates a new ORM instance. Every ORM instance has it's own set of classes
and configurations, which allows creating multiple ORM's in a single
application.</p> <p><a name="Knorm+Field"></a></p> <h3 id="knorm-field-field"><a href="#knorm-field-field" aria-hidden="true" class="header-anchor">#</a> knorm.Field : <a href="#Field">Field</a></h3> <p>The ORM's <a href="#Field">Field</a> class.</p> <p><a name="Knorm+Model"></a></p> <h3 id="knorm-model-model"><a href="#knorm-model-model" aria-hidden="true" class="header-anchor">#</a> knorm.Model : <a href="#Model">Model</a></h3> <p>The ORM's <a href="#Model">Model</a> class.</p> <p><a name="Knorm+Query"></a></p> <h3 id="knorm-query-query"><a href="#knorm-query-query" aria-hidden="true" class="header-anchor">#</a> knorm.Query : <a href="#Query">Query</a></h3> <p>The ORM's <a href="#Query">Query</a> class.</p> <p><a name="Knorm+Transaction"></a></p> <h3 id="knorm-transaction-transaction"><a href="#knorm-transaction-transaction" aria-hidden="true" class="header-anchor">#</a> knorm.Transaction : <a href="#Transaction">Transaction</a></h3> <p>The ORM's <a href="#Transaction">Transaction</a> class.</p> <p><a name="Knorm+use"></a></p> <h3 id="knorm-use-plugin-⇒-knorm"><a href="#knorm-use-plugin-⇒-knorm" aria-hidden="true" class="header-anchor">#</a> knorm.use(plugin) ⇒ <a href="#Knorm">Knorm</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>plugin</td> <td><code>object</code> | <code>function</code></td> <td>The plugin to load. If passed as a function,  the function is called with the ORM instance for initialisation. Note that if an object is passed, it should have <code>name</code> and <code>init</code> properties.</td></tr> <tr><td>plugin.name</td> <td><code>string</code></td> <td>The name of the plugin. This allows later accessing the plugin via the ORM's <code>plugins</code> object. Note that for functions, the plugin's <code>name</code> is the function's name.</td></tr> <tr><td>plugin.init</td> <td><code>function</code></td> <td>The function called to initialise the plugin.</td></tr></tbody></table> <p>Loads a plugin into the ORM.</p> <p><strong>Returns</strong>: <a href="#Knorm">Knorm</a> - the ORM instance.<br> <strong>Throws</strong>:</p> <ul><li><code>KnormError</code> if the plugin provided is not a function or is an
object without an <code>init</code> method.</li> <li><code>KnormError</code> if the plugin has no <code>name</code> property.</li> <li><code>KnormError</code> if the plugin has already been added.</li></ul> <p><a name="Knorm+addModel"></a></p> <h3 id="knorm-addmodel-model"><a href="#knorm-addmodel-model" aria-hidden="true" class="header-anchor">#</a> knorm.addModel(model)</h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>model</td> <td><a href="#Model">Model</a></td> <td>The model to add to the ORM. Note that models are automatically added to a <a href="#Knorm">Knorm</a> instance when they are configured, therefore you will only need to call this method to add models that are not configured. See <a href="/knorm/guides/models.html#model-registry">/guides/models.html#model-registry</a> for more info.</td></tr></tbody></table> <p>Adds a model to a <a href="#Knorm">Knorm</a> instance.</p> <p><strong>Throws</strong>:</p> <ul><li><code>KnormError</code> if the model passed does not inherit the ORM's
<a href="#Model">Model</a> instance. This prevents one from (perhaps accidentally)
adding a model from ORM instance X to ORM instance Y.</li> <li><code>KnormError</code> if the model has already been added.</li></ul> <p><strong>Todo</strong></p> <ul><li>[ ] return the <a href="#Knorm">Knorm</a> instance.</li></ul> <p><a name="Knorm+clone"></a></p> <h3 id="knorm-clone-⇒-knorm"><a href="#knorm-clone-⇒-knorm" aria-hidden="true" class="header-anchor">#</a> knorm.clone() ⇒ <a href="#Knorm">Knorm</a></h3> <p>Creates a clone of an existing <a href="#Knorm">Knorm</a> instance, copying all the
models and plugins loaded into the original orm.</p> <p><strong>Returns</strong>: <a href="#Knorm">Knorm</a> - the newly cloned ORM instance.<br> <a name="Knorm.KnormError"></a></p> <h3 id="knorm-knormerror-knormerror"><a href="#knorm-knormerror-knormerror" aria-hidden="true" class="header-anchor">#</a> Knorm.KnormError : <code>KnormError</code></h3> <p>A reference to the <a href="KnormError">KnormError</a> class.</p> <p><a name="Model"></a></p> <h2 id="model"><a href="#model" aria-hidden="true" class="header-anchor">#</a> Model</h2> <p>Creates model instances and allows setting, getting, validating and casting
data before and/or after database operations.</p> <ul><li><a href="#Model">Model</a> <ul><li><a href="#new_Model_new">new Model([data])</a></li> <li><em>instance</em> <ul><li><a href="#Model+knorm">.knorm</a> : <a href="#Knorm">Knorm</a></li> <li><a href="#Model+models">.models</a> : <code>object</code></li> <li><a href="#Model+setData">.setData(data)</a> ⇒ <a href="#Model">Model</a></li> <li><a href="#Model+insert">.insert([options])</a> ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></li> <li><a href="#Model+update">.update([options])</a> ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></li> <li><a href="#Model+save">.save([options])</a> ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></li> <li><a href="#Model+fetch">.fetch([options])</a> ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></li> <li><a href="#Model+delete">.delete([options])</a> ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></li></ul></li> <li><em>static</em> <ul><li><a href="#Model.fields">.fields</a> : <code>object</code></li> <li><a href="#Model.knorm">.knorm</a> : <a href="#Knorm">Knorm</a></li> <li><a href="#Model.models">.models</a> : <code>object</code></li> <li><a href="#Model.insert">.insert(data, options)</a> ⇒ <code>Promise</code></li></ul></li></ul></li></ul> <p><a name="new_Model_new"></a></p> <h3 id="new-model-data"><a href="#new-model-data" aria-hidden="true" class="header-anchor">#</a> new Model([data])</h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[data]</td> <td><code>object</code></td> <td>Data to assign to the instance. This data can be anything: data for fields (including virtual fields) or any arbitrary data. If data is provided, it's set via <a href="#Model+setData">setData</a>.</td></tr></tbody></table> <p>Creates a <a href="#Model">Model</a> instance.</p> <p><a name="Model+knorm"></a></p> <h3 id="model-knorm-knorm"><a href="#model-knorm-knorm" aria-hidden="true" class="header-anchor">#</a> model.knorm : <a href="#Knorm">Knorm</a></h3> <p>A reference to the knorm (ORM) instance.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This is the same instance assigned to the <a href="#Model.knorm">knorm</a> static
property, just added as a convenience for use in instance methods.</p></div> <p><a name="Model+models"></a></p> <h3 id="model-models-object"><a href="#model-models-object" aria-hidden="true" class="header-anchor">#</a> model.models : <code>object</code></h3> <p>The model registry. This is an object containing all the models added to the
ORM, keyed by name. See <a href="/knorm/guides/models.html#model-registry">model registry</a>
for more info.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This is the same object assigned to the <a href="#Model.models">models</a> static property,
just added as a convenience for use in instance methods.</p></div> <p><a name="Model+setData"></a></p> <h3 id="model-setdata-data-⇒-model"><a href="#model-setdata-data-⇒-model" aria-hidden="true" class="header-anchor">#</a> model.setData(data) ⇒ <a href="#Model">Model</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>data</td> <td><code>object</code></td> <td>The data to assign to the instance.</td></tr></tbody></table> <p>Sets an instance's data, via
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener noreferrer">Object.assign<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p><strong>Returns</strong>: <a href="#Model">Model</a> - the same model instance<br> <strong>Todo</strong></p> <ul><li>[ ] strict mode: for virtues, check if it has a setter</li> <li>[ ] strict mode: check if all fields in the data are valid field names</li></ul> <p><a name="Model+insert"></a></p> <h3 id="model-insert-options-⇒-promise-model"><a href="#model-insert-options-⇒-promise-model" aria-hidden="true" class="header-anchor">#</a> model.insert([options]) ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[options]</td> <td><code>object</code></td> <td><a href="#Query">Query</a> options.</td></tr></tbody></table> <p>Inserts a single row into the database.</p> <p><strong>Returns</strong>: <a href="#Model">Promise.&lt;Model&gt;</a> - the same instance populated with the inserted row
from the dabatase. The fields to be returned in the data can be configured
with the <a href="#Query+fields">fields</a> or <a href="#Query+returning">returning</a> options.<br> <a name="Model+update"></a></p> <h3 id="model-update-options-⇒-promise-model"><a href="#model-update-options-⇒-promise-model" aria-hidden="true" class="header-anchor">#</a> model.update([options]) ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[options]</td> <td><code>object</code></td> <td><a href="#Query">Query</a> options.</td></tr></tbody></table> <p>Updates a single row in the database.</p> <div class="warning custom-block"><p class="custom-block-title">NOTE</p> <p>This method requires a value for either a <a href="/knorm/guides/fields.html#primary-and-unique-fields">primary or a unique
field</a> to be set on the
instance in order to know what row to update.</p></div> <div class="tip custom-block"><p class="custom-block-title">INFO</p> <p>This method sets the <a href="Query#first">Query#first</a> (return only the first row) and
<a href="Query#require">Query#require</a> (throw a <a href="NoRowsError">NoRowsError</a> if no row is matched for
update) query options. However, the <a href="Query#require">Query#require</a> option can be
disabled via the <code>options</code> param.</p></div> <p><strong>Returns</strong>: <a href="#Model">Promise.&lt;Model&gt;</a> - the same instance populated with the updated row
from the dabatase. The fields to be returned in the data can be configured
with the <a href="#Query+fields">fields</a> or <a href="#Query+returning">returning</a> options.<br> <strong>Todo</strong></p> <ul><li>[ ] throw <a href="ModelError">ModelError</a> instead of plain Error</li></ul> <p><a name="Model+save"></a></p> <h3 id="model-save-options-⇒-promise-model"><a href="#model-save-options-⇒-promise-model" aria-hidden="true" class="header-anchor">#</a> model.save([options]) ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[options]</td> <td><code>object</code></td> <td><a href="#Query">Query</a> options.</td></tr></tbody></table> <p>Either inserts or updates a single row in the database, depending on
whether a value for the primary field is set or not.</p> <p><strong>Returns</strong>: <a href="#Model">Promise.&lt;Model&gt;</a> - the same instance populated with the inserted or
updated row from the dabatase. The fields to be returned in the data can be
configured with the <a href="#Query+fields">fields</a> or <a href="#Query+returning">returning</a>
options.<br> <strong>Todo</strong></p> <ul><li>[ ] throw <a href="ModelError">ModelError</a> instead of plain Error</li></ul> <p><a name="Model+fetch"></a></p> <h3 id="model-fetch-options-⇒-promise-model"><a href="#model-fetch-options-⇒-promise-model" aria-hidden="true" class="header-anchor">#</a> model.fetch([options]) ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[options]</td> <td><code>object</code></td> <td><a href="#Query">Query</a> options.</td></tr></tbody></table> <p>Fetches a single row from the database.</p> <div class="warning custom-block"><p class="custom-block-title">NOTE</p> <p>This method requires a value for either a <a href="/knorm/guides/fields.html#primary-and-unique-fields">primary or a unique
field</a> to be set on the
instance in order to know what row to fetch.</p></div> <div class="tip custom-block"><p class="custom-block-title">INFO</p> <p>This method sets the <a href="Query#first">Query#first</a> (return only the first row) and
<a href="Query#require">Query#require</a> (throw a <a href="NoRowsError">NoRowsError</a> if no row is matched for
fetching) query options. However, the <a href="Query#require">Query#require</a> option can be
disabled via the <code>options</code> param.</p></div> <p><strong>Returns</strong>: <a href="#Model">Promise.&lt;Model&gt;</a> - the same instance populated with data fetched from
the database. The fields to be returned in the data can be configured with
the <a href="#Query+fields">fields</a> or <a href="#Query+returning">returning</a> options.<br> <strong>Todo</strong></p> <ul><li>[ ] throw <a href="ModelError">ModelError</a> instead of plain Error</li></ul> <p><a name="Model+delete"></a></p> <h3 id="model-delete-options-⇒-promise-model"><a href="#model-delete-options-⇒-promise-model" aria-hidden="true" class="header-anchor">#</a> model.delete([options]) ⇒ <a href="#Model">Promise.&lt;Model&gt;</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[options]</td> <td><code>object</code></td> <td><a href="#Query">Query</a> options.</td></tr></tbody></table> <p>Deletes a single row from the database.</p> <div class="warning custom-block"><p class="custom-block-title">NOTE</p> <p>This method requires a value for either a <a href="/knorm/guides/fields.html#primary-and-unique-fields">primary or a unique
field</a> to be set on the
instance in order to know what row to delete.</p></div> <div class="tip custom-block"><p class="custom-block-title">INFO</p> <p>This method sets the <a href="Query#first">Query#first</a> (return only the first row) and
<a href="Query#require">Query#require</a> (throw a <a href="NoRowsError">NoRowsError</a> if no row is matched for
deleting) query options. However, the <a href="Query#require">Query#require</a> option can be
disabled via the <code>options</code> param.</p></div> <p><strong>Returns</strong>: <a href="#Model">Promise.&lt;Model&gt;</a> - the same instance populated with the row deleted
from the dabatase. The fields to be returned in the data can be configured
with the <a href="#Query+fields">fields</a> or <a href="#Query+returning">returning</a> options.<br> <strong>Todo</strong></p> <ul><li>[ ] throw <a href="ModelError">ModelError</a> instead of plain Error</li></ul> <p><a name="Model.fields"></a></p> <h3 id="model-fields-object"><a href="#model-fields-object" aria-hidden="true" class="header-anchor">#</a> Model.fields : <code>object</code></h3> <p>As a getter, returns the fields added to the model or a model that this
model inherits. As a setter, sets the model's fields or overrides fields
added to a parent model.</p> <p><a name="Model.knorm"></a></p> <h3 id="model-knorm-knorm-2"><a href="#model-knorm-knorm-2" aria-hidden="true" class="header-anchor">#</a> Model.knorm : <a href="#Knorm">Knorm</a></h3> <p>A reference to the knorm (ORM) instance.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This is the same instance assigned to the <a href="#Model+knorm">knorm</a> instance
property, just added as a convenience for use in static methods.</p></div> <p><a name="Model.models"></a></p> <h3 id="model-models-object-2"><a href="#model-models-object-2" aria-hidden="true" class="header-anchor">#</a> Model.models : <code>object</code></h3> <p>The model registry. This is an object containing all the models added to the
ORM, keyed by name. See <a href="/knorm/guides/models.html#model-registry">model registry</a>
for more info.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This is the same object assigned to the <a href="#Model+models">models</a> instance
property, just added as a convenience for use in static methods.</p></div> <p><a name="Model.insert"></a></p> <h3 id="model-insert-data-options-⇒-promise"><a href="#model-insert-data-options-⇒-promise" aria-hidden="true" class="header-anchor">#</a> Model.insert(data, options) ⇒ <code>Promise</code></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>data</td> <td><a href="#Model">Model</a> | <code>object</code> | <code>array</code></td> <td>The data to insert. Can be a plain object, a <a href="#Model">Model</a> instance or an array of objects or instances.</td></tr> <tr><td>options</td> <td><code>object</code></td> <td><a href="#Query">Query</a> options</td></tr></tbody></table> <p>Inserts a single or multiple rows into the database.</p> <p><strong>Returns</strong>: <code>Promise</code> - the promise is resolved with an array of the model's
instances, expect in the following cases:</p> <ul><li>if the <a href="Query#forge">Query#forge</a> query option was set to <code>false</code> (or
<a href="Query#lean">Query#lean</a> set to <code>true</code>), then the array will contain plain
objects.</li> <li>if no rows were inserted, then the array will be empty. If the
<a href="Query#require">Query#require</a> query option was set to <code>true</code>, then the promise is
rejected with a <a href="NoRowsInsertedError">NoRowsInsertedError</a> instead.</li> <li>if the <a href="Query#first">Query#first</a> query option was set to <code>true</code>, then the
promise is resolved with a single model instance (by default) or plain
object (if the <a href="Query#forge">Query#forge</a> query option was set to <code>true</code>), or
<code>null</code> if no rows were inserted.<br> <a name="Query"></a></li></ul> <h2 id="query"><a href="#query" aria-hidden="true" class="header-anchor">#</a> Query</h2> <p>Creates and runs queries and parses any data returned.</p> <ul><li><a href="#Query">Query</a> <ul><li><a href="#new_Query_new">new Query(model)</a></li> <li><a href="#Query+fields">.fields(...fields)</a> ⇒ <a href="#Query">Query</a></li> <li><a href="#Query+returning">.returning(...fields)</a> ⇒ <a href="#Query">Query</a></li></ul></li></ul> <p><a name="new_Query_new"></a></p> <h3 id="new-query-model"><a href="#new-query-model" aria-hidden="true" class="header-anchor">#</a> new Query(model)</h3> <table><thead><tr><th>Param</th> <th>Type</th></tr></thead> <tbody><tr><td>model</td> <td><a href="#Model">Model</a></td></tr></tbody></table> <p>Creates a new Query instance.</p> <p><a name="Query+fields"></a></p> <h3 id="query-fields-fields-⇒-query"><a href="#query-fields-fields-⇒-query" aria-hidden="true" class="header-anchor">#</a> query.fields(...fields) ⇒ <a href="#Query">Query</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>...fields</td> <td><code>string</code> | <code>array</code> | <code>object</code></td> <td>The fields to return. When passed as an object, the keys are used as aliases while the values are used in the query. This also allows you to use raw SQL.</td></tr></tbody></table> <p>Configures what fields to return from a database call.</p> <div class="tip custom-block"><p class="custom-block-title">INFO</p> <p>This is also aliased as <a href="#Query+returning">returning</a>.</p></div> <p><strong>Returns</strong>: <a href="#Query">Query</a> - The same <a href="#Query">Query</a> instance to allow chaining.<br> <strong>Example</strong><br>
For PostgreSQL:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br></div><pre class="language-js"><code>Model<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token string">'Foo'</span><span class="token punctuation">,</span>
    lastName<span class="token punctuation">:</span> <span class="token string">'Bar'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    returning<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      firstName<span class="token punctuation">:</span> <span class="token string">'firstName'</span><span class="token punctuation">,</span>
      lastName<span class="token punctuation">:</span> <span class="token string">'lastName'</span><span class="token punctuation">,</span>
      fullNames<span class="token punctuation">:</span> Model<span class="token punctuation">.</span>query<span class="token punctuation">.</span><span class="token function">sql</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`&quot;firstName&quot; || ' ' || upper(&quot;lastName&quot;)`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Query+returning"></a></p> <h3 id="query-returning-fields-⇒-query"><a href="#query-returning-fields-⇒-query" aria-hidden="true" class="header-anchor">#</a> query.returning(...fields) ⇒ <a href="#Query">Query</a></h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>...fields</td> <td><code>string</code> | <code>array</code> | <code>object</code></td> <td>The fields to return.</td></tr></tbody></table> <p>Configures what fields to return from a database call.</p> <div class="tip custom-block"><p class="custom-block-title">INFO</p> <p>This is an alias for <a href="#Query+fields">fields</a>.</p></div> <p><strong>Returns</strong>: <a href="#Query">Query</a> - The same <a href="#Query">Query</a> instance to allow chaining.<br> <strong>See</strong>: <a href="#Query+fields">fields</a><br> <a name="Transaction"></a></p> <h2 id="transaction"><a href="#transaction" aria-hidden="true" class="header-anchor">#</a> Transaction</h2> <p>Creates and executes transactions, allowing multiple queries to be run within
a transaction.</p> <p><a name="new_Transaction_new"></a></p> <h3 id="new-transaction-callback"><a href="#new-transaction-callback" aria-hidden="true" class="header-anchor">#</a> new Transaction([callback])</h3> <table><thead><tr><th>Param</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>[callback]</td> <td><code>function</code></td> <td>The transaction callback, when <a href="/knorm/guides/transactions.html#transactions-with-a-callback">running transactions with a callback function</a>.</td></tr></tbody></table> <p>Creates a <a href="#Transaction">Transaction</a> instance.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last updated: </span> <span class="time">10/6/2018, 8:21:59 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/knorm/guides/debugging.html" class="prev">
          Debugging
        </a></span> <span class="next"><a href="/knorm/changelog.html">
          Changelog
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/knorm/assets/js/4.b500dd80.js" defer></script><script src="/knorm/assets/js/app.e966340c.js" defer></script>
  </body>
</html>
